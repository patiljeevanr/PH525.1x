data(airquality)
mean(airquality$temp)
mean(airquality$temp,na.rm=T)
mean(airquality$temp,na.rm=F)
mean(airquality$temp,na.rm=T)
mean(airquality$temp,na.rm=TRUE)
head(airquality)
mean(airquality$Temp,na.rm=TRUE)
mean[,airquality$Month==6](airquality$Temp,na.rm=TRUE)
mean(subset(airquality,subset = airquality$Month==6,select = airquality$Temp),na.rm=T)
mean(subset(airquality,airquality$Month==6,select = airquality$Temp),na.rm=T)
mean(subset(airquality,airquality$Month==6,select = airquality$Temp),na.rm=T)
mean(airquality$Temp[airquality$Month==6])
?par
setwd("~/data")
setwd("~/")
pol<-read.csv("data/avgpm25.csv",colClasses=c("numeric","character","factor","numeric","numeric"))
par(mfrow = c(2,1),mar=c(4,4,2,1))
hist(subset(pol,region=="east")$pm25,col="green")
hist(subset(pol,region=="west")$pm25,col="green")
hist(subset(pol,region=="south")$pm25,col="green")
par(mfrow = c(1,1),mar=c(4,4,2,1))
hist(subset(pol,region=="south")$pm25,col="green")
hist(subset(pol,region=="east")$pm25,col="green")
par(mfrow = c(2,1),mar=c(4,4,2,1))
hist(subset(pol,region=="east")$pm25,col="green")
hist(subset(pol,region=="west")$pm25,col="green")
par(mfrow = c(2,2),mar=c(4,4,2,1))
hist(subset(pol,region=="east")$pm25,col="green")
hist(subset(pol,region=="west")$pm25,col="green")
hist(subset(pol,region=="west")$pm25,col="red")
hist(subset(pol,region=="west")$pm25,color="red")
hist(subset(pol,region=="east")$pm25,col="blue")
?with
setwd("~/")
pwd
getwd()
source("submitscript1.R")
source("submitscript1.R")
submit()
submit()
submit()
source("polluntantmean.R")
submit()
submit()
source('~/polluntantmean.R')
submit()
source("pollutantmean.R")
source("submitscript1.R")
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
source('~/corr.R')
source("complete.R")
cr<-corr("specdata",150)
head(cr)
summary(cr)
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
?xyplot
?xyplot()
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
nlme
bodyweight
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
library(dataset)
library(datasets
)
str(maaCS)
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
library(lattice)
library(datasets)
data(airquality)
p <- xyplot(Ozone ~ Wind | factor(Month), data = airquality)
print p
print(p)
library(datasets)
data(airquality)
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
library(ggplot2)
library(ggplot2)
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
library(ggplot2)
library(ggplot2)
set.seed(1234)
par(mar=c(0,0,0,0))
x<-rnorm(12,mean=rep(1:3,each=4),sd=0.2)
x
y<-rnorm(12,mean=rep(c(1,2,1),each=4),sd=0.2)
y
plot(x,y,col="blue",pch=19,cex=2)
text(x+0.05,y+0.05,labels=as.character(1:12))
dataFrame<-data.frame(x,y)
dist(dataframe,method = "manhatten")
dist(dataframe,method = "manhattan")
dist(dataFrame,method = "manhattan")
distxyM<-dist(dataFrame,method = "manhattan")
hclustering<-hclust(distxyM)
plot(hclustering)
myplclust(hClustering, lab = rep(1:3, each = 4), lab.col = rep(1:3, each = 4))
?rnorm
example(rnorm)
example(rnorm)
source('D:/files/thebrearer/Coursera/rankhospital.r')
install.packages("gapminder")
install.packages("gapminder")
install.packages("gapminder")
install.packages("C:\\Users\\BlackFury\\Downloads\\gapminder_0.1.0.tar.gz", repos = NULL, type = "source")
library(gapminder)
data(gapminder)
head(gapminder)
View(gapminder)
babies = read.table("babies.txt", header=TRUE)
setwd("~/PH525.1x/W3")
babies = read.table("babies.txt", header=TRUE)
bwt.nonsmoke = babies$bwt[babies$smoke==0]
pop.var = var(bwt.nonsmoke)
?replicate
vars=replicate(1000,var(sample(bwt.nonsomke,10)))
vars=replicate(1000,var(sample(bwt.nonsmoke,10)))
hist(vars)
vars=replicate(1000,var(sample(bwt.nonsmoke,10)))
hist(vars)
vars=replicate(1000,var(sample(bwt.nonsmoke,10)))
hist(vars)
vars=replicate(1000,var(sample(bwt.nonsmoke,10)))
hist(vars)
vars=replicate(1000,var(sample(bwt.nonsmoke,10)))
hist(vars)
pops<-read.csv("mice_pheno.csv")
head(pops)
hf<-pops[pops$Diet=="hf" & pops$Sex=="F",3]
chow<-pops[pops$Diet=="chow" & pops$Sex=="F",3]
mean(hf)-mean(chow)
x<-sample(hf,12)
y<-sample(chow,12)
mean(x)-mean(y)
Ns<-c(3,5,10,25)
B<-10000
res<-sapply(Ns,function(n){
sapply(1:B,function(j){
mean(sample(hf,n))-mean(sample(chow,n))
})
})
library(rafalib)
mypar2(2,2)
for(i in seq(along=Ns)){
title<-paste("Avg=",signif(mean(res[,i]),3))
title<-paste(title,"SD=",signif(sd(res[,i]),3))
qqnorm(res[,i],main=title)
qqline(res[,i])
}
dat<-read.csv("femaleMiceWeights.csv")
dat
control <- dat[1:12,2]
treatment <- dat[13:24,2]
diff <- mean(treatment)-mean(control)
diff
t.test(treatment,control)
#using cLT
sd(control)/sqrt(length(control))
se <- sqrt(var(treatment)/length(treatment)+
var(control)/length(control))
tstat <- diff/se
tstat
#p-value
1-pnorm(abs(tstat)) + pnorm(-abs(tstat))
##0.0398622 =! 0.053 not using CLT because sample size(12) is not big enough.
2*pnorm(-abs(tstat))
dat <- read.csv("mice_pheno.csv")
pop <- dat[dat$Sex=="F" & dat$Diet=="chow",3]
mu <- mean(pop)
N<-30 #assuming using CLT
#N <- 5 #for small sample size of 5 use t-test
y <- sample(pop,N)
Q <- qnorm(1-0.05/2)#assuming using CLT
#Q<-qt(1-0.05/2,4) #use t-test
plot(mu+c(-7,7),c(1,1),type="n",xlab="weights",
ylab="interval",ylim=c(1,100))
abline(v=mean(pop))
for(i in 1:100){
y <- sample(pop,N)
se <- sd(y) / sqrt(N)
interval <-c(mean(y)-Q*se , mean(y)+Q*se)
color<-ifelse((interval[1]<=mean(pop) & interval[2]>=mean(pop)),1,2)
lines(interval,c(i,i),col=color)
}
dat<-read.csv("femaleMiceWeights.csv")
t.test(dat[13:24,2],dat[1:12,2])
babies = read.table("babies.txt", header=TRUE)
bwt.nonsmoke = babies$bwt[babies$smoke==0]
pop.var = var(bwt.nonsmoke)
vars=replicate(1000,var(sample(bwt.nonsmoke,10)))
hist(vars)
babies = read.table("babies.txt", header=TRUE)
bwt.nonsmoke = babies$bwt[babies$smoke==0]
pop.var = var(bwt.nonsmoke)
vars=replicate(1000,var(sample(bwt.nonsmoke,10)))
hist(vars)
abline(v=pop.var)
means(vars>pop.var)
mean(vars>pop.var)
mean(vars>(1.5*pop.var))
vars=replicate(1000,var(sample(bwt.nonsmoke,50)))
mean(vars>(1.5*pop.var))
library(knitr)
opts_chunk$set(fig.path=paste0("figure/", sub("(.*).Rmd","\\1",basename(knitr:::knit_concord$get('infile'))), "-"))
library(downloader)
source('~/.active-rstudio-document', echo=TRUE)
dat <- read.table("babies.txt",header=TRUE)
smokers <- sample(dat$bwt[dat$smoke==1],10)
nonsmokers <- sample(dat$bwt[dat$smoke==0],10)
mean(smokers)-mean(nonsmokers)
source('~/.active-rstudio-document', echo=TRUE)
set.seed(0)
N <- 50
smokers <- sample(babies$bwt[babies$smoke==1], N)
nonsmokers <- sample(babies$bwt[babies$smoke==0], N)
obsmed <- median(smokers) - median(nonsmokers)
avgdiffmed <- replicate(1000, {
all <- sample(c(smokers,nonsmokers))
smokersstar <- all[1:N]
nonsmokersstar <- all[(N+1):(2*N)]
return(median(smokersstar) - median(nonsmokersstar))
})
mean(abs(avgdiff) > abs(obs))
set.seed(0)
N <- 50
smokers <- sample(babies$bwt[babies$smoke==1], N)
nonsmokers <- sample(babies$bwt[babies$smoke==0], N)
obsmed <- median(smokers) - median(nonsmokers)
avgdiffmed <- replicate(1000, {
all <- sample(c(smokers,nonsmokers))
smokersstar <- all[1:N]
nonsmokersstar <- all[(N+1):(2*N)]
return(median(smokersstar) - median(nonsmokersstar))
})
mean(abs(avgdiffmed) > abs(obsmed))
